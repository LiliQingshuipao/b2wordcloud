!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.B2wordcloud=e():t.B2wordcloud=e()}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var a=o[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var o;for(o in e)t[o]=t[o]&&"[object Object]"===t[o].toString()?a(t[o],e[o]):t[o]=e[o];return t}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=o(1),s=e.B2wordcloud=function(){function t(e,o){i(this,t),this._wrapper=e,this._wrapper.style.position="relative",this._container=null,this._tooltip=null,this._options=a({renderer:"canvas",tooltip:{show:!0,formatter:null}},o),this._wordcloud2=null,this._maskCanvas=null,this._tempCanvas=null,this._init()}return n(t,[{key:"_init",value:function(){this._initContainer(),this._setOptions()}},{key:"_initContainer",value:function(){"div"===this._options.renderer?(this._container=document.createElement("div"),this._container.style.width="100%",this._container.style.height="100%",this._createTempCanvas()):"canvas"===this._options.renderer&&(this._container=document.createElement("canvas"),this._setCanvasSize()),this._wrapper.appendChild(this._container)}},{key:"_createTempCanvas",value:function(){this._tempCanvas=document.createElement("canvas"),this._setCanvasSize(this._tempCanvas)}},{key:"_initTooltip",value:function(){this._tooltip||(this._tooltip=document.createElement("div"),this._tooltip.className=this._options.tooltip.className||"",this._tooltip.style.backgroundColor=this._options.tooltip.backgroundColor||"rgba(0,0,0,0.8)",this._tooltip.style.color="#fff",this._tooltip.style.padding="5px",this._tooltip.style.borderRadius="5px",this._tooltip.style.fontSize="13px",this._tooltip.style.lineHeight="1.4",this._tooltip.style.webkitTransition="left 0.2s, top 0.2s",this._tooltip.style.transition="left 0.2s, top 0.2s",this._tooltip.style.position="absolute",this._tooltip.style.whiteSpace="nowrap",this._tooltip.style.zIndex="999",this._tooltip.style.display="none"),document.body.appendChild(this._tooltip)}},{key:"_setCanvasSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._container,e=this._wrapper.clientWidth,o=this._wrapper.clientHeight;t.width=e,t.height=o}},{key:"_setOptions",value:function(){var t=this;if(this._fixWeightFactor(this._options),this._options.tooltip.show){this._initTooltip();var e=void 0,o=void 0,i=void 0,a=void 0,n=this._options.hover,r=this._options.mouseout;this._options.mouseout=function(){r&&r(),t._tooltip.style.display="none"},this._options.hover=function(r,s,l){if(n&&n(r,s,l),r){var c=r[0]+": "+r[1];"[object Function]"===Object.prototype.toString.call(t._options.tooltip.formatter)&&(c=t._options.tooltip.formatter(r)),t._tooltip.style.display="block",e=t._tooltip.clientWidth,o=t._tooltip.clientHeight,i=o+15,a=e/2+5,t._tooltip.style.position="absolute",t._tooltip.style.top=l.pageY-i+"px",t._tooltip.style.left=l.pageX-a+"px",t._tooltip.innerHTML=c}else t._tooltip.style.display="none"}}this._options&&this._options.maskImage?this._maskImage():this._render()}},{key:"_maskImage",value:function(){var t=this,e=window.document.createElement("img");e.crossOrigin="Anonymous",e.src=this._options.maskImage,e.onload=function(){t._maskCanvas=document.createElement("canvas"),t._maskCanvas.width=e.width,t._maskCanvas.height=e.height;var o=t._maskCanvas.getContext("2d");o.drawImage(e,0,0,e.width,e.height);for(var i=o.getImageData(0,0,t._maskCanvas.width,t._maskCanvas.height),a=o.createImageData(i),n=0;n<i.data.length;n+=4){var r=i.data[n]+i.data[n+1]+i.data[n+2],s=i.data[n+3];s<128||r>384?(a.data[n]=a.data[n+1]=a.data[n+2]=255,a.data[n+3]=0):(a.data[n]=a.data[n+1]=a.data[n+2]=0,a.data[n+3]=255)}o.putImageData(a,0,0),t._render()}}},{key:"_render",value:function(){if(this._maskCanvas){this._options.clearCanvas=!1;var t=document.createElement("canvas").getContext("2d");t.fillStyle=this._options.backgroundColor||"#fff",t.fillRect(0,0,1,1);var e=t.getImageData(0,0,1,1).data,o=document.createElement("canvas");o.width="canvas"===this._options.renderer?this._container.width:this._container.clientWidth,o.height="canvas"===this._options.renderer?this._container.height:this._container.clientHeight;var i=o.getContext("2d");i.drawImage(this._maskCanvas,0,0,this._maskCanvas.width,this._maskCanvas.height,0,0,o.width,o.height);for(var a=i.getImageData(0,0,o.width,o.height),n=i.createImageData(a),s=0;s<a.data.length;s+=4)a.data[s+3]>128?(n.data[s]=e[0],n.data[s+1]=e[1],n.data[s+2]=e[2],n.data[s+3]=e[3]):(n.data[s]=e[0],n.data[s+1]=e[1],n.data[s+2]=e[2],n.data[s+3]=e[3]?e[3]-1:0);i.putImageData(n,0,0);var l=this._tempCanvas?this._tempCanvas:this._container;i=l.getContext("2d"),i.drawImage(o,0,0)}this._wordcloud2=r("canvas"===this._options.renderer?this._container:[this._tempCanvas,this._container],this._options)}},{key:"_fixWeightFactor",value:function(t){if(t.maxFontSize="number"==typeof t.maxFontSize?t.maxFontSize:36,t.minFontSize="number"==typeof t.minFontSize?t.minFontSize:6,t.list&&t.list.length>0){for(var e=Number(t.list[0][1]),o=0,i=0,a=t.list.length;i<a;i++){var n=Number(t.list[i][1]);e>n&&(e=n),o<n&&(o=n)}if(o>e){var r="number"==typeof t.fontSizeFactor?t.fontSizeFactor:.1,s=(t.maxFontSize-t.minFontSize)/(Math.pow(o,r)-Math.pow(e,r)),l=t.maxFontSize-s*Math.pow(o,r);t.weightFactor=function(t){return Math.ceil(s*Math.pow(t,r)+l)}}else t.weightFactor=function(e){return t.minFontSize}}}},{key:"resize",value:function(){"canvas"===this._options.renderer?this._setCanvasSize():"div"===this._options.renderer&&(this._container.textContent=""),this._render()}}]),t}();t.exports=s},function(t,e,o){var i,a;(function(){/*!
	   * wordcloud2.js
	   * http://timdream.org/wordcloud2.js/
	   *
	   * Copyright 2011 - 2013 Tim Chien
	   * Released under the MIT license
	   */
"use strict";window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",o=function(o){var i=t.length;return t.push(o),window.postMessage(e+i.toString(36),"*"),i};return window.addEventListener("message",function(o){if("string"==typeof o.data&&o.data.substr(0,e.length)===e){o.stopImmediatePropagation();var i=parseInt(o.data.substr(e.length),36);t[i]&&(t[i](),t[i]=void 0)}},!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},o}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}()),function(o){var n=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!e&&(!!e.getImageData&&(!!e.fillText&&(!!Array.prototype.some&&!!Array.prototype.push)))}(),r=function(){if(n){for(var t,e,o=document.createElement("canvas").getContext("2d"),i=20;i;){if(o.font=i.toString(10)+"px sans-serif",o.measureText("Ｗ").width===t&&o.measureText("m").width===e)return i+1;t=o.measureText("Ｗ").width,e=o.measureText("m").width,i--}return 0}}(),s=function(t){for(var e,o,i=t.length;i;e=Math.floor(Math.random()*i),o=t[--i],t[i]=t[e],t[e]=o);return t},l=function(t,e){function o(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}if(n){Array.isArray(t)||(t=[t]),t.forEach(function(e,o){if("string"==typeof e){if(t[o]=document.getElementById(e),!t[o])throw"The element id specified is not found."}else if(!e.tagName&&!e.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var i={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null,cursorWhenHover:"pointer",mouseout:null};if(e)for(var a in e)a in i&&(i[a]=e[a]);if("function"!=typeof i.weightFactor){var l=i.weightFactor;i.weightFactor=function(t){return t*l}}if("function"!=typeof i.shape)switch(i.shape){case"circle":default:i.shape="circle";break;case"cardioid":i.shape=function(t){return 1-Math.sin(t)};break;case"diamond":i.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":i.shape=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case"triangle-forward":i.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":i.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":i.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":i.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}i.gridSize=Math.max(Math.floor(i.gridSize),4);var c,h,d,u,f,m,p,v=i.gridSize,g=v-i.maskGapWidth,w=Math.abs(i.maxRotation-i.minRotation),_=Math.abs(Math.floor(i.rotationSteps)),y=Math.min(i.maxRotation,i.minRotation);switch(i.color){case"random-dark":p=function(){return o(10,50)};break;case"random-light":p=function(){return o(50,90)};break;default:"function"==typeof i.color&&(p=i.color)}var b;"function"==typeof i.fontWeight&&(b=i.fontWeight);var x=null;"function"==typeof i.classes&&(x=i.classes);var M,C=!1,k=[],S=function(t){var e,o,i=t.currentTarget,a=i.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,o=t.touches[0].clientY):(e=t.clientX,o=t.clientY);var n=e-a.left,r=o-a.top,s=Math.floor(n*(i.width/a.width||1)/v),l=Math.floor(r*(i.height/a.height||1)/v);return k[s][l]},I=function(){i.mouseout()},T=function(t){var e=S(t);if(M!==e){if(M=e,!e)return i.hover(void 0,void 0,t),void(t.target.style.cursor="default");"pointer"===i.cursorWhenHover&&(t.target.style.cursor="pointer"),i.hover(e.item,e.dimension,t)}},E=function(t){var e=S(t);e&&(i.click(e.item,e.dimension,t,e.color),t.preventDefault())},O=[],F=function(t){if(O[t])return O[t];var e=8*t,o=e,a=[];for(0===t&&a.push([u[0],u[1],0]);o--;){var n=1;"circle"!==i.shape&&(n=i.shape(o/e*2*Math.PI)),a.push([u[0]+t*n*Math.cos(-o/e*2*Math.PI),u[1]+t*n*Math.sin(-o/e*2*Math.PI)*i.ellipticity,o/e*2*Math.PI])}return O[t]=a,a},z=function(){return i.abortThreshold>0&&(new Date).getTime()-m>i.abortThreshold},R=function(){return 0===i.rotateRatio?0:Math.random()>i.rotateRatio?0:0===w?y:_>0?y+Math.floor(Math.random()*_)*w/(_-1):y+Math.random()*w},P=function(t,e,o){var a=!1,n=i.weightFactor(e);if(n<=i.minSize)return!1;var s=1;n<r&&(s=function(){for(var t=2;t*n<r;)t+=2;return t}());var l;l=b?b(t,e,n):i.fontWeight;var c=document.createElement("canvas"),h=c.getContext("2d",{willReadFrequently:!0});h.font=l+" "+(n*s).toString(10)+"px "+i.fontFamily;var d=h.measureText(t).width/s,u=Math.max(n*s,h.measureText("m").width,h.measureText("Ｗ").width)/s,f=d+2*u,m=3*u,p=Math.ceil(f/v),g=Math.ceil(m/v);f=p*v,m=g*v;var w=-d/2,_=.4*-u,y=Math.ceil((f*Math.abs(Math.sin(o))+m*Math.abs(Math.cos(o)))/v),x=Math.ceil((f*Math.abs(Math.cos(o))+m*Math.abs(Math.sin(o)))/v),M=x*v,C=y*v;c.setAttribute("width",M),c.setAttribute("height",C),a&&(document.body.appendChild(c),h.save()),h.scale(1/s,1/s),h.translate(M*s/2,C*s/2),h.rotate(-o),h.font=l+" "+(n*s).toString(10)+"px "+i.fontFamily,h.fillStyle="#000",h.textBaseline="middle",h.fillText(t,w*s,(_+.5*n)*s);var k=h.getImageData(0,0,M,C).data;if(z())return!1;a&&(h.strokeRect(w*s,_,d*s,u*s),h.restore());for(var S,I,T,E=[],O=x,F=[y/2,x/2,y/2,x/2];O--;)for(S=y;S--;){T=v;t:{for(;T--;)for(I=v;I--;)if(k[4*((S*v+T)*M+(O*v+I))+3]){E.push([O,S]),O<F[3]&&(F[3]=O),O>F[1]&&(F[1]=O),S<F[0]&&(F[0]=S),S>F[2]&&(F[2]=S),a&&(h.fillStyle="rgba(255, 0, 0, 0.5)",h.fillRect(O*v,S*v,v-.5,v-.5));break t}a&&(h.fillStyle="rgba(0, 0, 255, 0.5)",h.fillRect(O*v,S*v,v-.5,v-.5))}}return a&&(h.fillStyle="rgba(0, 255, 0, 0.5)",h.fillRect(F[3]*v,F[0]*v,(F[1]-F[3]+1)*v,(F[2]-F[0]+1)*v)),{mu:s,occupied:E,bounds:F,gw:x,gh:y,fillTextOffsetX:w,fillTextOffsetY:_,fillTextWidth:d,fillTextHeight:u,fontSize:n}},j=function(t,e,o,a,n){for(var r=n.length;r--;){var s=t+n[r][0],l=e+n[r][1];if(s>=h||l>=d||s<0||l<0){if(!i.drawOutOfBound)return!1}else if(!c[s][l])return!1}return!0},L=function(o,a,n,r,s,l,c,h,d,u){var f,m=n.fontSize;f=p?p(r,s,m,l,c):i.color;var g;g=b?b(r,s,m):i.fontWeight;var w;w=x?x(r,s,m):i.classes;var _,y=n.bounds;_={x:(o+y[3])*v,y:(a+y[0])*v,w:(y[1]-y[3]+1)*v,h:(y[2]-y[0]+1)*v};var M,C,k,S=!1,I="left";"[object Array]"===Object.prototype.toString.call(f)&&(M=f[u%f.length],f=M,"[object Array]"===Object.prototype.toString.call(M)&&(S=!0),S&&"[object Number]"!==Object.prototype.toString.call(M[M.length-1])&&(M[M.length]=0),I=0===M[M.length-1]?"top":"left"),k=JSON.parse(JSON.stringify(f)),t.forEach(function(t,s){if(t.getContext){var l=t.getContext("2d"),c=n.mu;if(l.save(),l.scale(1/c,1/c),l.shadowColor=e.shadowColor,l.shadowOffsetX=e.shadowOffsetX,l.shadowOffsetY=e.shadowOffsetY,l.shadowBlur=e.shadowBlur,l.font=g+" "+(m*c).toString(10)+"px "+i.fontFamily,S){var u=l.measureText(r).width;C=l.createLinearGradient("top"!==I?-u/2:0,"top"===I?-m/2:0,"top"!==I?u/2:0,"top"===I?m/2:0);for(var s=0;s<M.length-1;s++)C.addColorStop(s/(M.length-2),M[s]);f=C}n.color=k,l.fillStyle=f,l.translate((o+n.gw/2)*v*c,(a+n.gh/2)*v*c),0!==h&&l.rotate(-h),l.textBaseline="middle",l.fillText(r,n.fillTextOffsetX*c,(n.fillTextOffsetY+.5*m)*c),l.restore()}else{S&&(f=M);var p=document.createElement("div"),_=document.createElement("span"),y="";y="rotate("+-h/Math.PI*180+"deg) ",1!==n.mu&&(y+="translateX(-"+n.fillTextWidth/4+"px) scale("+1/n.mu+")");var b={position:"absolute",left:(o+n.gw/2)*v+n.fillTextOffsetX+"px",top:(a+n.gh/2)*v+n.fillTextOffsetY+"px",width:n.fillTextWidth+"px",height:n.fillTextHeight+"px",lineHeight:m+"px",whiteSpace:"nowrap",transform:y,webkitTransform:y,msTransform:y,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"},x={display:"block",font:g+" "+m*n.mu+"px "+i.fontFamily,filter:"drop-shadow("+e.shadowOffsetX+"px "+e.shadowOffsetY+"px "+e.shadowBlur+"px "+e.shadowColor+")"};f&&("[object Array]"===Object.prototype.toString.call(f)&&(x=Object.assign({webkitBackgroundClip:"text",webkitTextFillColor:"transparent",backgroundImage:"-webkit-linear-gradient("+I+","+f.filter(function(t,e){return e!=f.length-1}).join(",")+")"},x)),x.color=f),_.textContent=r;for(var T in b)p.style[T]=b[T];for(var T in x)_.style[T]=x[T];if(d)for(var E in d)_.setAttribute(E,d[E]);w&&(_.className+=w),p.appendChild(_),t.appendChild(p)}})},W=function(e,o,i,a,n,r){if(!(e>=h||o>=d||e<0||o<0)){if(c[e][o]=!1,i){var s=t[0].getContext("2d");s.fillRect(e*v,o*v,g,g)}C&&(k[e][o]={item:n,dimension:a,color:r})}},D=function(e,o,a,n,r,s){var l,c=r.occupied,u=i.drawMask;u&&(l=t[0].getContext("2d"),l.save(),l.fillStyle=i.maskColor);var f;if(C){var m=r.bounds;f={x:(e+m[3])*v,y:(o+m[0])*v,w:(m[1]-m[3]+1)*v,h:(m[2]-m[0]+1)*v}}for(var p=c.length;p--;){var g=e+c[p][0],w=o+c[p][1];g>=h||w>=d||g<0||w<0||W(g,w,u,f,s,r.color)}u&&l.restore()},B=function(t,e){var o,a,n;Array.isArray(t)?(o=t[0],a=t[1]):(o=t.word,a=t.weight,n=t.attributes);var r=R(),l=P(o,a,r);if(!l)return!1;if(z())return!1;if(!i.drawOutOfBound){var c=l.bounds;if(c[1]-c[3]+1>h||c[2]-c[0]+1>d)return!1}for(var u=f+1,m=function(i){var s=Math.floor(i[0]-l.gw/2),c=Math.floor(i[1]-l.gh/2),h=l.gw,d=l.gh;return!!j(s,c,h,d,l.occupied)&&(L(s,c,l,o,a,f-u,i[2],r,n,e),D(s,c,h,d,l,t),!0)};u--;){var p=F(f-u);i.shuffle&&(p=[].concat(p),s(p));var v=p.some(m);if(v)return!0}return!1},A=function(e,o,i){return o?!t.some(function(t){var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,!0,o,i||{}),!t.dispatchEvent(a)},this):void t.forEach(function(t){var a=document.createEvent("CustomEvent");a.initCustomEvent(e,!0,o,i||{}),t.dispatchEvent(a)},this)},H=function(){var e=t[0];if(e.getContext)h=Math.ceil(e.width/v),d=Math.ceil(e.height/v);else{var o=e.getBoundingClientRect();h=Math.ceil(o.width/v),d=Math.ceil(o.height/v)}if(A("wordcloudstart",!0)){u=i.origin?[i.origin[0]/v,i.origin[1]/v]:[h/2,d/2],f=Math.floor(Math.sqrt(h*h+d*d)),c=[];var a,n,r;if(!e.getContext||i.clearCanvas)for(t.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=i.backgroundColor,e.clearRect(0,0,h*(v+1),d*(v+1)),e.fillRect(0,0,h*(v+1),d*(v+1))}else t.textContent="",t.style.backgroundColor=i.backgroundColor,t.style.position="relative"}),a=h;a--;)for(c[a]=[],n=d;n--;)c[a][n]=!0;else{var s=document.createElement("canvas").getContext("2d");s.fillStyle=i.backgroundColor,s.fillRect(0,0,1,1);var l=s.getImageData(0,0,1,1).data,p=e.getContext("2d").getImageData(0,0,h*v,d*v).data;a=h;for(var g,w;a--;)for(c[a]=[],n=d;n--;){w=v;t:for(;w--;)for(g=v;g--;)for(r=4;r--;)if(p[4*((n*v+w)*h*v+(a*v+g))+r]!==l[r]){c[a][n]=!1;break t}c[a][n]!==!1&&(c[a][n]=!0)}p=s=l=void 0}if(i.hover||i.click){for(C=!0,a=h+1;a--;)k[a]=[];var _=function(t){t.preventDefault()};t.forEach(function(t){i.hover&&(t.addEventListener("mousemove",T),t.addEventListener("mouseout",I)),i.click&&(t.addEventListener("click",E),t.addEventListener("touchstart",E),t.addEventListener("touchend",_),t.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),t.addEventListener("wordcloudstart",function e(){t.removeEventListener("wordcloudstart",e),t.removeEventListener("mousemove",T),t.removeEventListener("mouseout",I),t.removeEventListener("click",E),t.removeEventListener("touchstart",E),t.removeEventListener("touchend",_),M=void 0})})}r=0;var y,b;0!==i.wait?(y=window.setTimeout,b=window.clearTimeout):(y=window.setImmediate,b=window.clearImmediate);var x=function(e,o){t.forEach(function(t){t.addEventListener(e,o)},this)},S=function(e,o){t.forEach(function(t){t.removeEventListener(e,o)},this)},O=function t(){S("wordcloudstart",t),b(F)};x("wordcloudstart",O);var F=y(function t(){if(r>=i.list.length)return b(F),A("wordcloudstop",!1),void S("wordcloudstart",O);m=(new Date).getTime();var e=B(i.list[r],r),o=!A("wordclouddrawn",!0,{item:i.list[r],drawn:e});return z()||o?(b(F),i.abort(),A("wordcloudabort",!1),A("wordcloudstop",!1),void S("wordcloudstart",O)):(r++,void(F=y(t,i.wait)))},i.wait)}};H()}};l.isSupported=n,l.minFontSize=r,o.WordCloud=l,i=[],a=function(){return l}.apply(e,i),!(void 0!==a&&(t.exports=a))}(this)}).call(window)}])});